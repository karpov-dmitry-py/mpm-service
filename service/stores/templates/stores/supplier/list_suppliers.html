{% extends 'users/base.html' %}
{% block content %}
<div class="container-fluid" style="width: 100%;">
<a class="btn btn btn-success mb-3" style="margin-top: 1rem;" href="{% url 'suppliers-add' %}">Создать поставщика</a>
<legend class="border-bottom mb-4" >Мои поставщики (всего {{ items_count }}):</legend>
<table class="table table-hover">
    <thead class="thead-dark">
    <tr>
        <th>№</th>
        <th>ID</th>
        <th>Наименование</th>
        <th>ИНН</th>
        <th>E-mail</th>
        <th>Телефон</th>
        <th>Склады</th>
        <th style="text-align: center">Действия</th>
    </tr>
    </thead>
        <tbody>
            {% for item in items %}
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>{{ item.id }}</td>
                    <td><a href="{% url 'suppliers-detail' item.id %}">{{ item.name }}</a></td>
                    <td>{% if item.tin %} {{ item.tin }} {% else %} - {% endif %}</td>
                    <td>{% if item.email %} {{ item.email }} {% else %} - {% endif %}</td>
                    <td>{% if item.phone %} {{ item.phone }} {% else %} - {% endif %}</td>
                    <td>
                        <dl>
                            {% for wh in item.get_warehouses %}
                                <dd class="mb-0">
                                    <a href="{% url 'warehouses-detail' wh.id %}">{{ wh.name }}</a>
                                </dd>
                            {% endfor %}
                        </dl>
                    </td>

                    <td style="text-align: center; padding-right: 0rem; width: 13rem;">
                        <a class="btn btn-primary" href="{% url 'suppliers-update' item.id %}">Изменить</a>
                        <a class="btn btn-secondary" href="{% url 'suppliers-delete' item.id %}">Удалить</a>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
</table>
</div>
{% endblock content %}