{% extends 'users/base.html' %}
{% block content %}
<div class="container-fluid" style="max-width: 100%;">
<legend class="border-bottom mb-4 mt-3" >Мои остатки товаров (всего {{ items_count }}):</legend>

<!--pagination {    -->
<nav aria-label="detailed pagination">
  <ul class="pagination pagination-sm justify-content-center flex-wrap mb-4">
        {% if page_obj.has_previous %}
          <li class="page-item"><a class="page-link" href="?page={{ page_obj.previous_page_number }}">Предыдущая</a></li>
        {% else %}
        <li class="page-item disabled">
          <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Предыдущая</a>
        </li>
        {% endif %}
        {% for page_num in pages %}
          <li class="page-item">
            {% if page_num == page_obj.number %}
              <a style="background-color: #87CEEB;" class="page-link" href="?page={{ page_num }}">
                  <span style="color: white"><strong>{{ page_num }}</strong></span>
                {% else %}
                    <a class="page-link" href="?page={{ page_num }}">
                    {{ page_num }}
                {% endif %}
            </a>
          </li>
        {% endfor %}
        {% if page_obj.has_next %}
          <li class="page-item"><a class="page-link" href="?page={{ page_obj.next_page_number }}">Следующая</a></li>
        {% else %}
        <li class="page-item disabled">
          <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Следующая</a>
        </li>
        {% endif %}
      </ul>
</nav>
<!--pagination }    -->

<table class="table table-hover">
    <thead class="thead-dark">
    <tr>
        <th>№</th>
        <th>Дата изменения</th>
        <th>Склад</th>
        <th>Товар</th>
        <th>Количество</th>
    </tr>
    </thead>
        <tbody>
            {% for item in items %}
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>{{ item.date_updated|date:"d.m.Y H:i:s (e)" }}</td>
                    <td><a href="{% url 'warehouses-detail' item.warehouse.id %}">{{ item.warehouse.name }}</a></td>
                    <td><a href="{% url 'goods-detail' item.good.id %}">{{ item.good.name }}</a></td>
                    <td>{{ item.amount }}</td>
                </tr>
            {% endfor %}
        </tbody>
</table>

<!--pagination {    -->
<nav aria-label="detailed pagination">
  <ul class="pagination pagination-sm justify-content-center flex-wrap mb-5">
        {% if page_obj.has_previous %}
          <li class="page-item"><a class="page-link" href="?page={{ page_obj.previous_page_number }}">Предыдущая</a></li>
        {% else %}
        <li class="page-item disabled">
          <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Предыдущая</a>
        </li>
        {% endif %}
        {% for page_num in pages %}
          <li class="page-item">
            {% if page_num == page_obj.number %}
              <a style="background-color: #87CEEB;" class="page-link" href="?page={{ page_num }}">
                  <span style="color: white"><strong>{{ page_num }}</strong></span>
                {% else %}
                    <a class="page-link" href="?page={{ page_num }}">
                    {{ page_num }}
                {% endif %}
            </a>
          </li>
        {% endfor %}
        {% if page_obj.has_next %}
          <li class="page-item"><a class="page-link" href="?page={{ page_obj.next_page_number }}">Следующая</a></li>
        {% else %}
        <li class="page-item disabled">
          <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Следующая</a>
        </li>
        {% endif %}
      </ul>
</nav>
<!--pagination }    -->

</div>
{% endblock content %}