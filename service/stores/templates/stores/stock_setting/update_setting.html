{% extends 'users/base.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% block content %}
<link rel="stylesheet" href="{% static 'stores/css/add_stock_setting.css' %}">
<div class="container-fluid" style="width: 60%;">

        <!-- spinner-->
        <div class="mt-3 mb-3 container-fluid d-flex justify-content-center text-info spinner" style="width: 40%;">
            <strong>Выполняется загрузка данных для условий ... </strong>
            <span class="spinner-border spinner-border-sm ml-auto" role="status" aria-hidden="true"></span>
        </div>

        <form method="post">
            {% csrf_token %}
            <fieldset class="form-group">
                <legend class="border-bottom mb-4">
                    Редактирование настройки - <a href="{% url 'store-warehouses-detail' wh.id %}">{{ wh.name }}</a>
                </legend>
                {{ form|crispy }}
            <div class="form-group mb-4" id="new-condition-div">
                <button type="button" onclick="UI.newCondition();" class="btn btn-outline-info setting-btn">
                    <span><strong>&#65291;</strong></span>
                    Добавить условие</button>
                <button type="button" class="btn btn-light setting-btn btn-scroll" onclick="scrollToBottom();">Вниз</button>
            </div>
            <div class="form-group mb-4" id="conditions"></div>
            <div class="form-group mb-4">
                <button type="button" onclick="UI.newCondition();" class="btn btn-outline-info setting-btn">
                    <span><strong>&#65291;</strong></span>
                    Добавить условие</button>
                <button type="button" class="btn btn-light setting-btn btn-scroll" onclick="scrollToTop();">Наверх</button>
            </div>
            <div class="form-group mb-4">
                <button onclick="UI.collectConditions();" class="btn btn-success setting-btn" type="submit">Сохранить изменения</button>
            </div>
            </fieldset>
        </form>
        <div id="condition_types" class="hidden">{{ condition_types }}</div>
        <div id="condition_fields" class="hidden">{{ condition_fields }}</div>
        <div id="include_types" class="hidden">{{ include_types }}</div>
        <div id="brands" class="hidden">{{ brands }}</div>
        <div id="cats" class="hidden">{{ cats }}</div>
        <div id="warehouses" class="hidden">{{ warehouses }}</div>
</div>
<script type="text/javascript" src="{% static 'stores/js/add_stock_setting.js' %}"></script>
{% endblock content %}